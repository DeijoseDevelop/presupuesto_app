var S=Object.defineProperty;var B=(t,e,o)=>e in t?S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var f=(t,e,o)=>(B(t,typeof e!="symbol"?e+"":e,o),o);const N=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const y of l.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&n(y)}).observe(document,{childList:!0,subtree:!0});function o(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=o(r);fetch(r.href,l)}};N();const s=t=>t.toLocaleString("es-CO",{style:"currency",currency:"COP",minimunFractionDigits:2}),c=()=>{let t=0;if(JSON.parse(localStorage.getItem("presupuesto"))!==null){let o=JSON.parse(localStorage.getItem("presupuesto"))[0];for(let n of o)t+=n._values}return t},_=()=>{let t=document.createElement("article");t.id="ingresos-article",t.style.padding="15px",t.style.color="#28B9B5";let e=document.createElement("h1");e.textContent="Ingresos";let o=document.createElement("p");return o.id="inyectarIngresos",o.textContent=c()===null?s(0):s(c()),o.style.fontWeight="bold",t.append(e,o),t},E=t=>t.toLocaleString("es-CO",{style:"percent",minimunFractionDigits:2}),i=()=>{let t=0;if(JSON.parse(localStorage.getItem("presupuesto"))===null)console.log("no hay egresos");else{let o=JSON.parse(localStorage.getItem("presupuesto"))[1];for(let n of o)t+=n._values}return t},x=()=>Number(i())/Number(c()),L=()=>{let t=document.createElement("article");t.id="egresos-article",t.style.padding="15px",t.style.color="#FF5049";let e=document.createElement("h1");e.textContent="Egresos";let o=document.createElement("div");o.style.display="flex";let n=document.createElement("p");n.id="inyectarEgresos",n.textContent=i()===null?s(0):s(i()),n.style.fontWeight="bold";let r=document.createElement("span");return r.id="inyectarPorcentaje",r.textContent=E(x()),r.textContent.includes("NaN")&&(r.textContent="0 %"),r.style.backgroundColor="rgba(200,200,200,.5)",r.style.borderRadius="10px",r.style.marginLeft="5px",r.style.padding="0 5px",r.style.paddingTop="4px",o.append(n,r),t.append(e,o),t},v=()=>{let t;return c()===null&&i()===null?t=0:t=c()-i(),t},$=t=>{t.style.color="#28B9B5",t.textContent.includes("-")&&(t.style.color="#FF5049")},O=()=>{let t=document.createElement("article");t.id="presupuesto-article";let e=document.createElement("h1");e.id="inyectarPresupuesto",e.textContent=s(v()),$(e),e.style.fontSize="2rem",e.style.backgroundColor="rgba(40,40,40,.8)",e.style.borderRadius="10px",e.style.padding="10px 0";let o=_(),n=L();return t.append(e,o,n),t},P=()=>{const t=document.createElement("header");t.style.backgroundColor="#ccc8",t.style.textAlign="center",t.style.width="100%",t.style.paddingBottom="20px";const e=document.createElement("h1");e.textContent="Balance Personal",e.style.padding="10px";let o=O();return t.append(e,o),t},M=()=>{let t=P();document.body.append(t)},A=t=>{let e=document.createElement("select");e.id="tipo",e.style.padding="5px";let o=document.createElement("option");o.value="ingreso",o.selected="true",o.textContent="+ Ingreso";let n=document.createElement("option");n.value="egreso",n.textContent="- Egreso",e.append(o,n),t.append(e)},J=t=>{let e=document.createElement("input");e.type="text",e.placeholder="Agregar Descripcion",e.id="description",e.style.padding="5px",t.append(e)},k=t=>{let e=document.createElement("input");e.type="number",e.id="valor",e.placeholder="Valor",e.style.padding="5px",t.append(e)},w=t=>{let e=document.createElement("button");e.id="a\xF1adir",e.style.backgroundColor="rgba(30,30,30,0.2)",e.style.borderRadius="20px",e.style.border="none",e.style.cursor="pointer",e.style.padding="5px",e.addEventListener("mousedown",function(n){e.style.backgroundColor="rgb(40, 185, 181)",o.style.color="rgba(30,30,30,0.2)"}),e.addEventListener("mouseup",function(n){e.style.backgroundColor="rgba(30,30,30,0.2)",o.style.color="rgb(40, 185, 181)"});let o=document.createElement("ion-icon");o.name="checkmark-circle-outline",o.style.fontSize="1.6rem",o.style.color="rgb(40, 185, 181)",e.append(o),t.append(e)},H=t=>{let e=document.createElement("form");e.id="form",A(e),J(e),k(e),w(e),t.append(e)},T=()=>{let t=document.createElement("div");return t.style.width="100%",t.style.backgroundColor="rgba(100,100,100,0.8)",t.style.height="auto",t.style.padding="10px",t.style.display="grid",t.style.placeItems="center",H(t),t};class C{constructor(e,o){this._description=e,this._values=o}get description(){return this._description}set description(e){this._description=e}get values(){return this._values}set values(e){this._values=e}}const b=class extends C{constructor(e,o){super(e,o);this._id=++b.contadorIngresos}get id(){return this._id}};let u=b;f(u,"contadorIngresos",0);const I=class extends C{constructor(e,o){super(e,o);this._id=++I.contadorEgresos}get id(){return this._id}};let d=I;f(d,"contadorEgresos",0);const D=t=>`
        <article class="articulo-ingreso">
            <h3 class="elemento_descripcion">${t._description}</h3>
                <p class="elemento_valor">+ ${s(t._values)}</p>
                <div class="elemento_eliminar">
                    <button>
                        <ion-icon name='close-circle-outline' class="button-eliminar-ingreso" data-id="${t._id}"></ion-icon>
                    </button>
                </div>
            </div>
        </article>
    `,F=()=>{let e=JSON.parse(localStorage.getItem("presupuesto"))[0],o="";for(let n of e)o+=D(n);document.getElementById("sectionIngreso").innerHTML=o},j=t=>`
        <article class="articulo-egreso">
        <h3 class="elemento_descripcion">${t._description}</h3>
                <p class="elemento_valor">- ${s(t._values)}</p>
                <span class="elemento_valor">${E(t._values/i())}</span>
                <div class="elemento_eliminar">
                    <button>
                        <ion-icon name='close-circle-outline' class="button-eliminar-egreso" data-id="${t._id}"></ion-icon>
                    </button>
                </div>
            </div>
        </article>
    `,V=()=>{let e=JSON.parse(localStorage.getItem("presupuesto"))[1],o="";for(let n of e)o+=j(n);document.getElementById("sectionEgreso").innerHTML=o},p=()=>{F(),V()},h=()=>{v()===null?document.getElementById("inyectarPresupuesto").textContent=s(0):document.getElementById("inyectarPresupuesto").textContent=s(v()),$(document.getElementById("inyectarPresupuesto")),c()===null?document.getElementById("inyectarIngresos").textContent=s(0):document.getElementById("inyectarIngresos").textContent=s(c()),i()===null?document.getElementById("inyectarEgresos").textContent=s(0):document.getElementById("inyectarEgresos").textContent=s(i()),document.getElementById("inyectarPorcentaje").textContent=E(x()),document.getElementById("inyectarPorcentaje").textContent.includes("NaN")&&(document.getElementById("inyectarPorcentaje").textContent="0 %")};let m=[],g=[],a=[m,g];const R=()=>{document.getElementById("a\xF1adir").addEventListener("click",t=>{t.preventDefault();let e=document.getElementById("tipo"),o=document.getElementById("description"),n=document.getElementById("valor");localStorage.getItem("presupuesto")===null?(o.value!==""&&n.value!==""&&(e.value==="ingreso"?(m.push(new u(o.value,Math.abs(Number(n.value)))),n.value.includes("-")&&(n.value[0]="")):e.value==="egreso"&&(g.push(new d(o.value,Math.abs(Number(n.value)))),n.value.includes("-")&&(n.value[0]=""))),localStorage.setItem("presupuesto",JSON.stringify(a)),p(),h()):(a=JSON.parse(localStorage.getItem("presupuesto")),m=a[0],g=a[1],o.value!==""&&n.value!==""&&(e.value==="ingreso"?(m.push(new u(o.value,Math.abs(Number(n.value)))),n.value.includes("-")&&(n.value[0]="")):e.value==="egreso"&&(g.push(new d(o.value,Math.abs(Number(n.value)))),n.value.includes("-")&&(n.value[0]=""))),localStorage.setItem("presupuesto",JSON.stringify(a)),p(),h()),document.getElementById("form").reset()})},z=()=>{let t=T();document.body.append(t),R()},W=t=>{let e=document.createElement("section");e.id="section-ingreso";let o=document.createElement("section");o.style.width="100%",o.id="sectionIngreso";let n=document.createElement("h2");n.textContent="Ingresos",n.style.color="rgb(40, 185, 181)",n.style.marginBottom="20px",e.append(n,o),t.append(e)},q=t=>{let e=document.createElement("section");e.id="section-egreso";let o=document.createElement("section");o.style.width="100%",o.id="sectionEgreso";let n=document.createElement("h2");n.textContent="Egresos",n.style.color="rgb(255, 80, 73)",n.style.marginBottom="20px",e.append(n,o),t.append(e)},K=()=>{let t=document.createElement("section");t.id="section-presupuesto",W(t),q(t),document.body.append(t),p()},G=t=>{let e=JSON.parse(localStorage.getItem("presupuesto")),o=e[0],n=o.findIndex(r=>r._id==t);o.splice(n,1),localStorage.setItem("presupuesto",JSON.stringify(e))},Q=t=>{let e=JSON.parse(localStorage.getItem("presupuesto")),o=e[1],n=o.findIndex(r=>r._id==t);o.splice(n,1),localStorage.setItem("presupuesto",JSON.stringify(e))},U=()=>{document.addEventListener("click",t=>{t.preventDefault();let e=Number(t.target.getAttribute("data-id"));t.target.classList.contains("button-eliminar-ingreso")?G(e):t.target.classList.contains("button-eliminar-egreso")&&Q(e),p(),h()})};document.addEventListener("DOMContentLoaded",function(t){M(),z(),K(),U()});
